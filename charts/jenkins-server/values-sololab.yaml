## %%MAIN_CONTAINER/POD_DESCRIPTION%%
##
controller:
  ## Jenkins controller image
  ## ref: https://hub.docker.com/r/jenkins/jenkins/tags/
  ## @param controller.image.registry Jenkins controller image registry
  ## @param controller.image.repository Jenkins controller image repository
  ## @param controller.image.tag Jenkins controller image tag (immutable tags are recommended)
  ## @param controller.image.digest Jenkins controller image digest in the way sha256:aa.... Please note this parameter, if set, will override the tag image tag (immutable tags are recommended)
  ## @param controller.image.pullPolicy Jenkins controller image pull policy
  ## @param controller.image.pullSecrets Jenkins controller image pull secrets
  ## @param controller.image.debug Enable Jenkins controller image debug mode
  ##
  image:
    registry: docker.io
    repository: jenkins/jenkins
    tag: 2.401.3-lts-jdk11
    digest: ""
    ## Specify a imagePullPolicy
    ## Defaults to 'Always' if image tag is 'latest', else set to 'IfNotPresent'
    ## ref: http://kubernetes.io/docs/user-guide/images/#pre-pulling-images
    ##
    pullPolicy: IfNotPresent
  ## @param controller.additionalPlugins List of plugins to install in addition to those listed in controller.installPlugins
  additionalPlugins: []
  ## @param controller.provision initContainer settings for jenkins controller provision
  provision:
    ##
    ## @param controller.provision.extraEnvVars Environment variables that get added to the provision init container (useful for e.g. http_proxy)
    ## e.g.
    ## extraEnvVars:
    ##   - name: http_proxy
    ##     value: "http://192.168.64.1:3128"
    extraEnvVars:
      - name: JENKINS_UC
        value: "https://mirrors.tuna.tsinghua.edu.cn/jenkins/updates"
      - name: JENKINS_UC_DOWNLOAD
        value: "https://mirrors.tuna.tsinghua.edu.cn/jenkins"
      - name: http_proxy
        value: "http://192.168.255.1:7890"
      - name: https_proxy
        value: "http://192.168.255.1:7890"
  ## @param controller.jenkinsUrl If you are not using the provided ingress you can specify `controller.jenkinsUrl` to change the url definition.
  ##
  jenkinsUrl: "https://jenkins.infra.sololab"
  ## @param controller.adminSecret Create secret for admin user
  ## The default configuration uses this secret to configure an admin user
  ## If you don't need that user or use a different security realm then you can disable it
  ##
  adminSecret: true
  ## @param controller.adminUser Admin username (and password) created as a secret if adminSecret is true
  ## When enabling LDAP or another non-Jenkins identity source, the built-in admin account will no longer exist.
  ## If you disable the non-Jenkins identity store and instead use the Jenkins internal one,
  ## you should revert controller.adminUser to your preferred admin user:
  ##
  adminUser: "admin"
  ## @param controller.adminPassword Admin password (and user) created as a secret if adminSecret is true
  ## Defaults to a random 10-character alphanumeric string if not set
  ##
  adminPassword: "P@ssw0rd"
  ## @param controller.extraEnvVars Array with extra environment variables to add to jenkins nodes
  ## e.g:
  ## extraEnvVars:
  ##   - name: FOO
  ##     value: "bar"
  ##
  extraEnvVars:
    - name: JENKINS_UC
      value: "https://mirrors.tuna.tsinghua.edu.cn/jenkins/updates"
    - name: JENKINS_UC_DOWNLOAD
      value: "https://mirrors.tuna.tsinghua.edu.cn/jenkins"
    - name: http_proxy
      value: "http://192.168.255.1:7890"
    - name: https_proxy
      value: "http://192.168.255.1:7890"

  ## @section Jenkins config as code
  ## @param controller.JCasC config of Jenkins Config as Code
  ## Below is the implementation of Jenkins Configuration as Code.
  ## Each key (prior to | character) is just a label, and can be any value.
  ## Keys are only used to give the section a meaningful name.  The only restriction is they may only contain RFC 1123 \ DNS label
  ## characters: lowercase letters, numbers, and hyphens.  The keys become the name of a configuration yaml file on the controller in
  ## /var/jenkins_home/casc_configs (by default) and will be processed by the Configuration as Code Plugin.  The lines after each |
  ## become the content of the configuration yaml file.  The first line after this is a JCasC root element, eg jenkins, credentials,
  ## etc.
  JCasC:
    ## @param JCasC.enabled Enable configuration as code.
    ##
    enabled: true
    ## @param configAsCode.extraConfigFiles List of additional configuration-as-code files to be mounted
    ## E.g.:
    ##  welcome-message.yaml: |-
    ##    jenkins:
    ##      systemMessage: Welcome to our CI\CD server.  This Jenkins is configured and managed 'as code'.
    ##
    extraConfigFiles:
      welcome-message.yaml: |-
        jenkins:
          systemMessage: Welcome to our CI\CD server.  This Jenkins is configured and managed 'as code'.
